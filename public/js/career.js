var career={init:function(){$("#supporter-producer-class, #receiver-recipient-class, #gatherer-class").length>0&&$("#supporter-producer-class, #receiver-recipient-class, #gatherer-class").multiselect({buttonClass:"btn btn-sm btn-primary",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:!1,buttonText:function(a){if(0==a.length)return'None selected <b class="caret"></b>';var b="";return a.each(function(){b+=$(this).text()+", "}),b.substr(0,b.length-2)+' <b class="caret"></b>'}}),$("#supporter-supported-classes, #receiver-producer-classes, #gathering-supported-classes, #battling-supported-classes").length>0&&$("#supporter-supported-classes, #receiver-producer-classes, #gathering-supported-classes, #battling-supported-classes").multiselect({buttonClass:"btn btn-sm btn-primary",buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',maxHeight:!1,buttonText:function(a){if(0==a.length)return'None selected <b class="caret"></b>';if(a.length>1)return"these "+a.length+' Classes  <b class="caret"></b>';var b="";return a.each(function(){b+=$(this).text()+", "}),b.substr(0,b.length-2)+' <b class="caret"></b>'}}),$(".vendors").on("click",function(a){a.preventDefault();var b=$(this),c=b.data("itemId");if(!b.hasClass("loading")){var d=$("#vendors_for_"+c);0==d.length?$.ajax({url:"/vendors/view/"+c,dataType:"json",beforeSend:function(){b.addClass("loading"),global.noty({type:"warning",text:"Loading Vendors"})},success:function(a){$("body").append(a.html),$("#vendors_for_"+c).modal(),b.removeClass("loading")}}):$("#vendors_for_"+c).modal("show")}}),$(".clusters").on("click",function(a){a.preventDefault();var b=$(this),c=b.data("itemId");if(!b.hasClass("loading")){var d=$("#clusters_for_"+c);0==d.length?$.ajax({url:"/gathering/clusters/"+c,dataType:"json",beforeSend:function(){b.addClass("loading"),global.noty({type:"warning",text:"Loading Clusters"})},success:function(a){$("body").append(a.html),$("#clusters_for_"+c).modal(),b.removeClass("loading")}}):$("#clusters_for_"+c).modal("show")}}),$(".beasts").on("click",function(a){a.preventDefault();var b=$(this),c=b.data("itemId");if(!b.hasClass("loading")){var d=$("#beasts_for_"+c);0==d.length?$.ajax({url:"/gathering/beasts/"+c,dataType:"json",beforeSend:function(){b.addClass("loading"),global.noty({type:"warning",text:"Loading Beasts"})},success:function(a){$("body").append(a.html),$("#beasts_for_"+c).modal(),b.removeClass("loading")}}):$("#beasts_for_"+c).modal("show")}})}};$(career.init);