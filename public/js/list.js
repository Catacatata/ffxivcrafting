var list={init:function(){$(".update-list-item").change(function(){var a=$(this).closest("tr"),b=a.data("itemId"),c=a.data("itemName"),d=parseInt($(this).val()),e="Updating the quantity for "+c;0>=d&&(e=c+" will be deleted from your list"),$.ajax({url:"/list/edit",type:"post",data:{"item-id":b,amount:d},beforeSend:function(){global.noty({type:0>=d?"warning":"information",text:e})}})}),$(".delete-list-item").click(function(){var a=$(this).closest("tr"),b=a.data("itemId"),c=a.data("itemName");$.ajax({url:"/list/delete",type:"post",data:{"item-id":b},beforeSend:function(){global.noty({type:"warning",text:"Deleting "+c+" from your list"})},complete:function(){global.fade_and_destroy(a),setTimeout(list.check_if_empty,1e3)}})}),$("#savedList").on("show.bs.modal",function(){var a=$(this),b=a.data("baseUrl"),c=[];$("#list tbody tr").each(function(){var a=$(this);c.push(a.data("itemId")+","+a.find("input").val())}),a.find("textarea").html(b+c.join(":"))})},check_if_empty:function(){0==$("#list tbody tr").length&&(window.location="/list")}};$(list.init);