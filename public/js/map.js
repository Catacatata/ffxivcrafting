var map={init:function(){$("a[data-toggle=tab]").on("shown.bs.tab",function(a){var b=$(a.target).attr("href");$(b).find(".globe:not(.overscroll)").overscroll(),$(b).find(".globe").addClass("overscroll")}),$(".active a[data-toggle=tab]").trigger("shown.bs.tab"),$(".item_level, .region_level, .cluster_level").each(function(){var a=$(this);0==a.find(".node_level").length&&a.remove()}),$(".item_level > div:first-child, .region_level > div:first-child, .cluster_level > div:first-child").click(function(){var a=$(this);a.parent("li").toggleClass("open")}),$(".cluster, .vendor, .beast").click(map.icon_click),$(".clear-selected").click(map.clear_selected),$(".globe_list input[type=checkbox]").change(map.toggle_level)},toggle_node:function(a,b){var c=a.data("id"),d=a.data("type");map_item=$(".map-item[data-id="+c+"][data-type="+d+"]"),map_item[(b?"remove":"add")+"Class"]("hidden")},toggle_level:function(a,b){a&&a.stopPropagation();var c=$(this),d=c.closest(".list-group-item"),e=d.find(".node-item"),f=e.data("id"),g=e.data("type");0==c.prop("checked")&&map.resort_to_last(d),("undefined"==typeof b||b===!0)&&(d.find(".node-item").each(function(){return map.toggle_node($(this),c.prop("checked"),$(".node-item[data-id="+f+"][data-type="+g+"]").length)}),$(".node-item[data-id="+f+"][data-type="+g+"]").not(e).each(function(){var a=$(this),b=a.closest(".list-group-item").find("input[type=checkbox]");return b.prop("checked",c.prop("checked")),map.toggle_level.apply(b,[!1,!1])}))},clear_selected:function(a){a&&a.preventDefault(),$(".clear-selected").addClass("hidden"),$(".list-group-item.alert-success").removeClass("alert-success"),$(".list-group-item.item_level.alert-info").removeClass("alert-info")},icon_click:function(){var a=$(this),b=a.data("id"),c=a.data("type");$(".list-group-item.open").removeClass("open"),map.clear_selected(),$(".node-item[data-id="+b+"][data-type="+c+"]").parents().map(function(){var a=$(this);a.hasClass("list-group-item")&&a.addClass("open")}),$(".node-item[data-id="+b+"][data-type="+c+"]").parents(".list-group-item.item_level").addClass("alert-info"),$(".node-item[data-id="+b+"][data-type="+c+"]").closest(".list-group-item").removeClass("alert-info").addClass("alert-success"),$(".node-item[data-id="+b+"][data-type="+c+"]").closest(".list-group-item").each(function(){return map.resort_to_first_recursive($(this))}),$(".clear-selected").removeClass("hidden")},resort_to_first_recursive:function(a){var b=a.closest(".list-group");b.prepend(a);var c=b.closest(".list-group-item");c.length>0&&map.resort_to_first_recursive(c)},resort_to_last:function(a){var b=a.closest(".list-group");b.append(a)}};$(map.init);